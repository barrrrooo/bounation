<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>bounation</title>
  <style>
    html,body{height:100%;margin:0;background:#000;color:#fff;font-family:system-ui}
    header{position:fixed;top:12px;left:12px;font-weight:700;letter-spacing:.06em}
    model-viewer{width:100%;height:100%}
    .hud{position:fixed;left:50%;bottom:18px;transform:translateX(-50%);
         width:min(720px,90%);display:flex;gap:8px;align-items:center;
         background:rgba(0,0,0,.5);padding:8px 12px;border-radius:999px;backdrop-filter:blur(6px)}
    input[type=range]{flex:1}
    button{border:0;border-radius:999px;padding:8px 16px;background:#fff;color:#000;font-weight:600;cursor:pointer}
    .status{position:fixed;right:12px;top:12px;opacity:.8}
  </style>
  <!-- Load the model-viewer web component -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>
<body>
  <header>BOUNATION</header>
  <div class="status" id="status">loading…</div>

  <model-viewer id="mv"
    src="./assets/model.glb"
    camera-controls
    autoplay
    exposure="1"
    shadow-intensity="1"
    style="background-color:#000">
    <div slot="poster">Your browser doesn’t support &lt;model-viewer&gt;.</div>
  </model-viewer>

  <div class="hud">
    <button id="toggle">Pause</button>
    <input id="scrubber" type="range" min="0" max="1" step="0.001" value="0">
  </div>

  <script type="module">
    const mv = document.getElementById('mv');
    const toggle = document.getElementById('toggle');
    const scrubber = document.getElementById('scrubber');
    const status = document.getElementById('status');

    mv.addEventListener('load', () => {
      status.textContent = 'ready';
      // If your GLB has multiple animations, you can pick one by name:
      // mv.animationName = 'YourActionName';
      if (mv.paused) mv.play();
    });

    mv.addEventListener('error', (e) => {
      status.textContent = 'error: ' + (e?.detail?.type || 'check console');
      console.error(e);
    });

    // Play/Pause toggle
    toggle.addEventListener('click', () => {
      if (mv.paused) { mv.play(); toggle.textContent = 'Pause'; }
      else { mv.pause(); toggle.textContent = 'Play'; }
    });

    // Scrubber -> seek
    let scrubbing = false;
    scrubber.addEventListener('input', () => {
      scrubbing = true;
      const t = scrubber.value * (mv.duration || 0);
      mv.currentTime = t;          // seek
      mv.pause();                  // pause while scrubbing
      toggle.textContent = 'Play';
    });

    // Keep scrubber in sync while playing
    mv.addEventListener('timeupdate', () => {
      if (!scrubbing && mv.duration) {
        scrubber.value = (mv.currentTime / mv.duration).toFixed(3);
      }
      scrubbing = false;
    });
  </script>
</body>
</html>
